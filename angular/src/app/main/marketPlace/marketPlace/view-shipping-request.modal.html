<div
  bsModal
  #ViewShippingRequestModal="bs-modal"
  class="modal fade"
  tabindex="-1"
  role="dialog"
  aria-labelledby="createOrEditModal"
  aria-hidden="true"
  [config]="{ backdrop: 'static' }"
>
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <p class="modal-title">
          <span>{{ l('Shipping Request Details') }}</span>
        </p>
      </div>
      <div class="modal-body">
        <div class="row">
          <!--begin::Body-->
          <div class="col-xl-12 text-center pt-4">
            <!--begin::Map-->
            <div class="mb-5">
              <agm-map [latitude]="24.717942" [longitude]="46.675761" [zoom]="14">
                <agm-direction
                  [origin]="{lat: record.originalFacility?.latitude,lng: record.originalFacility?.longitude}"
                  [destination]="{lat: record.destinationFacility?.latitude,lng: record.destinationFacility?.longitude}"
                  [travelMode]="'DRIVING'"
                ></agm-direction>
              </agm-map>
            </div>
            <!--end::Map-->
            <!-- begin::Label -->
            <span class="btn btn-text btn-light-success btn-sm font-weight-bold">
              Status: {{ record.shippingRequestBidStatusName || 'unknown' }}
            </span>
            <span class="btn btn-light-primary btn-sm font-weight-bold btn-upper btn-text">
              Start Date: {{ record.bidStartDate | momentFormat: 'L' }}</span
            >
            <!-- end::Label-->
            <!-- START::CONTENT -->
            <div class="my-5 mx-5">
              <div class="d-flex justify-content-between align-items-center my-1">
                <span class="text-dark-75 font-weight-bolder mr-2">{{ l('truckType')}}</span>
                <a class="text-muted text-primary"> {{ record.truckTypeDisplayName }}</a>
              </div>
              <div class="d-flex justify-content-between align-items-center my-1">
                <span class="text-dark-75 font-weight-bolder mr-2">{{ l('GoodCategoryName') }}</span>
                <a class="text-muted text-hover-primary">{{ record.goodCategoryName }}</a>
              </div>
              <div class="d-flex justify-content-between align-items-center my-1">
                <span class="text-dark-75 font-weight-bolder mr-2">{{ l('Origin')}}: </span>
                <span class="text-muted font-weight-bold">{{ record.sourceCityName }}</span>
              </div>
              <div class="d-flex justify-content-between align-items-center my-1">
                <span class="text-dark-75 font-weight-bolder mr-2">{{ l('Destination')}}: </span>
                <span class="text-muted font-weight-bold">{{ record.destinationCityName }}</span>
              </div>
              <div class="d-flex justify-content-between align-items-center my-1" *ngIf="record.myBidPrice > 0">
                <span class="text-dark-75 font-weight-bolder mr-2">Bid Price:</span>
                <span class="text-muted font-weight-bold">{{ record.myBidPrice || 'unknown' }}</span>
              </div>

              <div class="d-flex justify-content-between align-items-center mt-8">
                <div class="input-group">
                  <div class="input-group-prepend">
                    <span class="input-group-text">$</span>
                  </div>
                  <input
                    type="number"
                    class="form-control"
                    [class.is-invalid]="invalid"
                    [disabled]="saving"
                    [(ngModel)]="price"
                    placeholder="{{ l('BidAmount')}}"
                  />
                  <div class="input-group-append">
                    <button
                      class="btn btn-primary font-weight-bolder btn-sm py-3 px-6 text-uppercase"
                      type="button"
                      [disabled]="saving"
                      (click)="MakeABid(record.shippingRequestId)"
                    >
                      {{ record.myBidId ? l('update') : l('place') }}
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!--end::Body-->
        </div>
      </div>
      <div class="modal-footer">
        <!--begin::Buttons-->
        <button
          [disabled]="saving"
          class="btn btn-primary font-weight-bolder btn-sm py-3 px-6 text-uppercase"
          (click)="DeleteBid(record.myBidId)"
          *ngIf="record.myBidId"
        >
          {{ l('CancelMyBid')}}
        </button>
        <button [disabled]="saving" type="button" class="btn btn-primary font-weight-bolder btn-sm py-3 px-6 text-uppercase" (click)="close()">
          {{ l('Close') }}
        </button>
        <!--end::Buttons-->
      </div>
    </div>
  </div>
</div>
