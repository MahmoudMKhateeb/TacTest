<div class="flex-row-fluid ml-lg-8" [@routerTransition]>
  <!--begin::Row-->
  <div class="row">
    <!--  section Map - 12    -->
    <div *ngIf="isShipper" class="col-lg-12">
      <!--begin::List Widget 10-->
      <div class="card card-custom card-stretch gutter-b">
        <!--begin::Body-->
        <div class="card-body pt-0 mt-10">
          <!--begin::Item-->
          <!-- start::map Goes here -->
          <agm-map [latitude]="latitude || 24.717942" [longitude]="longitude || 46.675761" [zoom]="13">
            <agm-marker [latitude]="latitude" [longitude]="longitude"></agm-marker>
          </agm-map>
          <!--                    end::map Goes here-->
          <!--end::Item-->
        </div>
        <!--end: Card Body-->
      </div>
      <!--end: Card-->
      <!--end: List Widget 10-->
    </div>
  </div>
  <!--end::Row-->
  <!--begin::Row-->
  <!-- section Row   -->
  <div class="row">
    <!-- section invoicing Table - 6  -->
    <div *ngIf="isShipper" class="col-lg-12 gutter-b">
      <div class="card card-custom">
        <!--begin::Header-->
        <div class="card-header h-auto py-4">
          <div class="card-title">
            <h3 class="card-label">{{ l('InvoicingInformation') }}</h3>
          </div>
        </div>
        <!--end::Header-->
        <!--begin::Body-->
        <div class="card-body py-4">
          <div class="form-group row my-2">
            <label class="col-4 col-form-label">{{ l('CreditLimit') }}:</label>
            <div class="col-8">
              <span class="form-control-plaintext font-weight-bolder">{{ InvoicingInfo.creditLimit }}</span>
            </div>
          </div>

          <div class="form-group row my-2">
            <label class="col-4 col-form-label">{{ l('CurrentBalance') }}:</label>
            <div class="col-8">
              <span class="form-control-plaintext">
                <span class="font-weight-bolder">{{ InvoicingInfo.currentBalance }}</span></span
              >
            </div>
          </div>
          <div class="form-group row my-2" [busyIf]="loading">
            <label class="col-4 col-form-label">{{ l('InvoicingFrequency') }}:</label>
            <div class="col-8">
              <span class="form-control-plaintext font-weight-bolder">{{
                InvoicingInfo.invoicingFrequency ? InvoicingInfo.invoicingFrequency : '_'
              }}</span>
            </div>
          </div>
          <div class="form-group row my-2">
            <label class="col-4 col-form-label">{{ l('InvoicingDuePeriod') }}:</label>
            <div class="col-8">
              <span class="form-control-plaintext font-weight-bolder">{{ InvoicingInfo.invoicingDuePeriod }}</span>
            </div>
          </div>
          <div class="form-group row my-2">
            <label class="col-4 col-form-label">{{ l('Credit Type') }}:</label>
            <div class="col-8">
              <span class="form-control-plaintext font-weight-bolder">
                {{ InvoicingInfo.creditType }}
              </span>
            </div>
          </div>
        </div>
        <!--end::Body-->
        <!--begin::Footer-->
        <div class="card-footer">
          <!--      <a href="#" class="btn btn-primary font-weight-bold mr-2">Manage company</a>-->
          <!--      <a href="#" class="btn btn-light-primary font-weight-bold">Learn more</a>-->
        </div>
        <!--end::Footer-->
      </div>
    </div>
    <!-- section Facilities Table - 6   -->
    <div *ngIf="isShipper" class="col-lg-12">
      <div class="card card-custom card-stretch gutter-b">
        <!--begin::Header-->
        <div class="card-header border-0 pt-5">
          <h3 class="card-title align-items-start flex-column">
            <span class="card-label font-weight-bolder text-dark">{{ l('Facilities') }}</span>
            <span class="text-muted mt-3 font-weight-bold font-size-sm"
              >{{ l('NumberOfFacilities') }} : {{ primengTableHelper.totalRecordsCount }}</span
            >
          </h3>
        </div>
        <!--end::Header-->
        <!--begin::Body-->
        <div class="card-body pt-2">
          <!--<Primeng-Datatable-Start>-->
          <div class="primeng-datatable-container col-12" [busyIf]="primengTableHelper.isLoading">
            <p-table
              #dataTable
              (onLazyLoad)="getFacility($event)"
              [value]="primengTableHelper.records"
              rows="{{ primengTableHelper.defaultRecordsCountPerPage }}"
              [paginator]="false"
              [lazy]="true"
              [scrollable]="true"
              ScrollWidth="100%"
              [responsive]="primengTableHelper.isResponsive"
              [resizableColumns]="primengTableHelper.resizableColumns"
            >
              <ng-template pTemplate="header">
                <tr>
                  <th pSortableColumn="Name">
                    {{ l('Name') }}
                    <p-sortIcon field="Name"></p-sortIcon>
                  </th>
                  <th pSortableColumn="Country">
                    {{ l('Country') }}
                    <p-sortIcon field="countryName"></p-sortIcon>
                  </th>
                  <th pSortableColumn="City">
                    {{ l('City') }}
                    <p-sortIcon field="cityName"></p-sortIcon>
                  </th>
                  <th>
                    {{ l('Allocate') }}
                  </th>
                </tr>
              </ng-template>
              <ng-template pTemplate="body" let-record="$implicit">
                <tr>
                  <td>
                    {{ record.name }}
                  </td>
                  <td>
                    {{ record.countryName }}
                  </td>
                  <td>
                    {{ record.cityName }}
                  </td>
                  <td class="align-middle">
                    <a (click)="this.longitude = record.longitude; this.latitude = record.latitude" class="btn btn-icon btn-danger btn-circle btn-sm">
                      <i class="fas fa-map-marker-alt"></i>
                    </a>
                  </td>
                </tr>
              </ng-template>
            </p-table>
            <div class="primeng-no-data" *ngIf="primengTableHelper.totalRecordsCount == 0">
              {{ l('NoData') }}
            </div>
            <div class="primeng-paging-container">
              <p-paginator
                [rows]="5"
                #paginator
                (onPageChange)="getFacility($event)"
                [totalRecords]="primengTableHelper.totalRecordsCount"
                [rowsPerPageOptions]="primengTableHelper.predefinedRecordsCountPerPage"
              >
              </p-paginator>
              <span class="total-records-count">
                {{ l('TotalRecordsCount', primengTableHelper.totalRecordsCount) }}
              </span>
            </div>
          </div>
          <!--<Primeng-Datatable-End>-->
        </div>
        <!--end::Body-->
      </div>
    </div>
    <!-- section Carrier vases Table - 12  -->
    <div *ngIf="isCarrier" class="col-lg-12">
      <div class="card card-custom card-stretch gutter-b">
        <!--begin::Header-->
        <div class="card-header border-0 pt-5">
          <h3 class="card-title align-items-start flex-column">
            <span class="card-label font-weight-bolder text-dark">Available Vases</span>
            <span class="text-muted mt-3 font-weight-bold font-size-sm">Number Of Vases : 10</span>
          </h3>
        </div>
        <!--end::Header-->
        <!--begin::Body-->
        <div class="card-body pt-2">
          <p-table [value]="carrierVases">
            <ng-template pTemplate="header">
              <!--                { id: 1, vasName: 'Extra Driver', maxCount: 20, maxAmount: 6, price: 900 },-->
              <tr>
                <th>vasName</th>
                <th>maxCount</th>
                <th>maxAmount</th>
                <th>price</th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-record>
              <tr [pSelectableRow]="record">
                <td>{{ record.vasName }}</td>
                <td>{{ record.maxCount }}</td>
                <td>{{ record.maxAmount }}</td>
                <td>{{ record.price }}</td>
              </tr>
            </ng-template>
          </p-table>
        </div>
        <!--end::Body-->
      </div>
    </div>
    <!-- section Fleet Information - 12 -->
    <div *ngIf="isCarrier" class="col-lg-12">
      <div class="card card-custom">
        <!--begin::Header-->
        <div class="card-header h-auto py-4">
          <div class="card-title">
            <h3 class="card-label">Fleet Information</h3>
          </div>
        </div>
        <!--end::Header-->
        <!--begin::Body-->
        <div class="card-body py-4">
          <div class="row">
            <div class="form-group row mx-2">
              <label class="col-auto col-form-label">Number of drivers:</label>
              <div class="col-auto">
                <span class="form-control-plaintext font-weight-bolder">127</span>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-lg-9">
              <p-table [value]="carrierVases">
                <ng-template pTemplate="header">
                  <!--                { id: 1, vasName: 'Extra Driver', maxCount: 20, maxAmount: 6, price: 900 },-->
                  <tr>
                    <th>vasName</th>
                    <th>maxCount</th>
                    <th>maxAmount</th>
                    <th>price</th>
                  </tr>
                </ng-template>
                <ng-template pTemplate="body" let-record>
                  <tr [pSelectableRow]="record">
                    <td>{{ record.vasName }}</td>
                    <td>{{ record.maxCount }}</td>
                    <td>{{ record.maxAmount }}</td>
                    <td>{{ record.price }}</td>
                  </tr>
                </ng-template>
              </p-table>
            </div>
            <div class="col-lg-3">
              <p-table [value]="carrierServiceAreas">
                <ng-template pTemplate="header">
                  <!--                { id: 1, vasName: 'Extra Driver', maxCount: 20, maxAmount: 6, price: 900 },-->
                  <tr>
                    <th>Service Areas</th>
                  </tr>
                </ng-template>
                <ng-template pTemplate="body" let-record>
                  <tr [pSelectableRow]="record">
                    <td>{{ record.areaName }}</td>
                  </tr>
                </ng-template>
              </p-table>
            </div>
          </div>
        </div>
        <!--end::Body-->
        <!--begin::Footer-->
        <div class="card-footer">
          <!--      <a href="#" class="btn btn-primary font-weight-bold mr-2">Manage company</a>-->
          <!--      <a href="#" class="btn btn-light-primary font-weight-bold">Learn more</a>-->
        </div>
        <!--end::Footer-->
      </div>
    </div>
  </div>
</div>
