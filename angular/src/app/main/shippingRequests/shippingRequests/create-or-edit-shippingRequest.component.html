<!--suppress XmlInvalidId -->
<div [@routerTransition]>
  <div class="content d-flex flex-column flex-column-fluid">
    <sub-header [breadcrumbs]="breadcrumbs" [title]="('ShippingRequests' | localize) + ' ' + ('create' | localize)"></sub-header>

    <div [class]="containerClass">
      <div class="card card-custom gutter-b">
        <!--  start of card::form-->
        <div class="card-header">
          <h3 class="card-title">Enter Shipping Request Details</h3>
        </div>
        <form>
          <!--  start of card::body-->
          <div class="card-body">
            <div class="row">
              <!--  start of truck::Details-->
              <div class="col-12">
                <div class="mb-3">
                  <h3 class="font-size-h3-xl text-dark font-weight-bold mb-6">{{ l('truckDetails') }} :</h3>
                  <div class="mb-2">
                    <div class="form-group row fv-plugins-icon-container">
                      <div class="col-lg-4">
                        <label>* TransportType:</label>
                        <select class="form-control" name="TransportType">
                          <option value="">Select</option>
                          <option value="01">01</option>
                          <option value="02">02</option>
                          <option value="03">03</option>
                          <option value="04">04</option>
                          <option value="05">05</option>
                          <option value="06">06</option>
                          <option value="07">07</option>
                          <option value="08">08</option>
                          <option value="09">09</option>
                          <option value="10">10</option>
                          <option value="11">11</option>
                          <option value="12">12</option>
                        </select>
                        <div class="fv-plugins-message-container"></div>
                      </div>
                      <div class="col-lg-4">
                        <label>* truckType:</label>
                        <select class="form-control" name="truckType">
                          <option value="">Select</option>
                          <option value="2018">2018</option>
                          <option value="2019">2019</option>
                          <option value="2020">2020</option>
                          <option value="2021">2021</option>
                          <option value="2022">2022</option>
                          <option value="2023">2023</option>
                          <option value="2024">2024</option>
                        </select>
                        <div class="fv-plugins-message-container"></div>
                      </div>
                      <div class="col-lg-4">
                        <label>* Capacity:</label>
                        <input type="number" class="form-control" name="Capacity" value="" />
                        <div class="fv-plugins-message-container"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!--  end of truck::Details-->
              <!--  start of Shipment::Details-->
              <div class="col-12">
                <div class="mb-3">
                  <h3 class="font-size-h3-xl text-dark font-weight-bold mb-6">{{ l('shipmentDetails') }} :</h3>
                  <div class="mb-2">
                    <div class="form-group row fv-plugins-icon-container">
                      <div class="col-lg-4">
                        <label>* {{ l('goodCategory') }}:</label>
                        <select class="form-control" name="TransportType">
                          <option value="">Select</option>
                          <option value="01">01</option>
                          <option value="02">02</option>
                          <option value="03">03</option>
                          <option value="04">04</option>
                          <option value="05">05</option>
                          <option value="06">06</option>
                          <option value="07">07</option>
                          <option value="08">08</option>
                          <option value="09">09</option>
                          <option value="10">10</option>
                          <option value="11">11</option>
                          <option value="12">12</option>
                        </select>
                        <div class="fv-plugins-message-container"></div>
                      </div>
                      <!--                      <div class="col-lg-12 mt-4">-->
                      <!--                        <label>{{ l('goodsDetail') }}:</label>-->
                      <!--                        <div class="primeng-datatable-container container-fluid mt-4">-->
                      <!--                          <p-table-->
                      <!--                            [value]="primengTableHelper.records"-->
                      <!--                            rows="{{ primengTableHelper.defaultRecordsCountPerPage }}"-->
                      <!--                            [paginator]="false"-->
                      <!--                            [lazy]="true"-->
                      <!--                            [scrollable]="true"-->
                      <!--                            ScrollWidth="100%"-->
                      <!--                            [responsive]="primengTableHelper.isResponsive"-->
                      <!--                            [resizableColumns]="primengTableHelper.resizableColumns"-->
                      <!--                          >-->
                      <!--                            >-->
                      <!--                            <ng-template pTemplate="header">-->
                      <!--                              <tr>-->
                      <!--                                <th pResizableColumn>{{ l('UnitOfMeasures') }}</th>-->
                      <!--                                <th pResizableColumn>{{ l('Weight') }}</th>-->
                      <!--                                <th pResizableColumn>{{ l('totalAmount') }}</th>-->
                      <!--                                <th pResizableColumn>{{ l('description') }}</th>-->
                      <!--                                <th pResizableColumn>{{ l('Name') }}</th>-->
                      <!--                                <th pResizableColumn>{{ l('dimensions') }}</th>-->
                      <!--                                <th pResizableColumn>{{ l('isDangerous') }}</th>-->
                      <!--                                <th pResizableColumn>{{ l('dangerousCode') }}</th>-->
                      <!--                                <th pResizableColumn>{{ l('category') }}</th>-->
                      <!--                                <th pResizableColumn>{{ l('packingType') }}</th>-->
                      <!--                                <th pResizableColumn>{{ l('numberOfpacking') }}</th>-->
                      <!--                              </tr>-->
                      <!--                            </ng-template>-->
                      <!--                            <ng-template pTemplate="body" let-product>-->
                      <!--                              <tr>-->
                      <!--                                <td>{{ product.code }}</td>-->
                      <!--                                <td>{{ product.name }}</td>-->
                      <!--                                <td>{{ product.category }}</td>-->
                      <!--                                <td>{{ product.quantity }}</td>-->
                      <!--                              </tr>-->
                      <!--                            </ng-template>-->
                      <!--                          </p-table>-->
                      <!--                        </div>-->
                      <!--                      </div>-->
                    </div>
                  </div>
                </div>
              </div>
              <!--  end of Shipment::Details-->
              <!--  start of Route::Details-->
              <div class="col-12">
                <div class="mb-3">
                  <h3 class="font-size-h3-xl text-dark font-weight-bold mb-6">{{ l('routeDetails') }} :</h3>
                  <div class="mb-2">
                    <div class="form-group row fv-plugins-icon-container">
                      <div class="col-lg-4">
                        <div class="form-group">
                          <label>* {{ l('source') }}:</label>
                          <input type="text" class="form-control" placeholder="{{ l('source') }}" />
                        </div>
                      </div>
                      <div class="col-lg-4">
                        <div class="form-group">
                          <label>* {{ l('destination') }}:</label>
                          <input type="text" class="form-control" placeholder="{{ l('destination') }}" />
                        </div>
                      </div>
                      <div class="col-lg-4">
                        <label>* {{ l('routeType') }}:</label>
                        <select class="form-control" name="truckType">
                          <option value="">Select</option>
                          <option value="2018">2018</option>
                          <option value="2019">2019</option>
                          <option value="2020">2020</option>
                          <option value="2021">2021</option>
                          <option value="2022">2022</option>
                          <option value="2023">2023</option>
                          <option value="2024">2024</option>
                        </select>
                        <div class="fv-plugins-message-container"></div>
                      </div>

                      <div class="col-lg-4">
                        <div class="form-group">
                          <label>* {{ l('startDate') }}:</label>
                          <input type="text" class="form-control" placeholder="{{ l('startDate') }}" />
                        </div>
                      </div>
                      <div class="col-lg-4">
                        <div class="form-group">
                          <label>* {{ l('endDate') }}:</label>
                          <input type="text" class="form-control" placeholder="{{ l('endDate') }}" />
                        </div>
                      </div>
                      <div class="col-lg-4">
                        <div class="form-group">
                          <label>* {{ l('numberOfDrops') }}:</label>
                          <input class="form-control" type="number" value="2" id="numberOfDrops" />
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!--  end of Route::Details-->
              <!--  start of ShippingRequestType::Details-->
              <div class="col-12">
                <div class="mb-3">
                  <h3 class="font-size-h3-xl text-dark font-weight-bold mb-6">{{ l('shipmentDetails') }} :</h3>
                  <div class="mb-2">
                    <div class="form-group row fv-plugins-icon-container">
                      <div class="col-lg-4">
                        <label>* {{ l('ShippingRequestType') }}:</label>
                        <select class="form-control" name="TransportType">
                          <option value="">Select</option>
                          <option value="bidding">{{ l('bidding') }}</option>
                          <option value="tachyon">{{ l('TachyonDeal') }}</option>
                        </select>
                        <div class="fv-plugins-message-container"></div>
                      </div>
                      <div class="col-lg-4">
                        <label>* {{ l('biddingStartDate') }}:</label>
                        <input type="date" class="form-control" placeholder="{{ l('BiddingstartDate') }}" />
                      </div>
                      <div class="col-lg-4">
                        <label>* {{ l('biddingEndDate') }}:</label>
                        <input type="date" class="form-control" placeholder="{{ l('biddingEndDate') }}" />
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!--  end of ShippingRequestType::Details-->
              <!--  start of Vas::Details-->
              <div class="col-12">
                <div class="mb-3">
                  <div class="col-lg-6">
                    <h3 class="font-size-h3-xl text-dark font-weight-bold mb-6">{{ l('vasDetails') }} :</h3>
                  </div>

                  <div class="mb-2">
                    <!--begin: Vas-Datatable-->
                    <div class="primeng-datatable-container col-12 container-fluid" [busyIf]="primengTableHelper.isLoading">
                      <div class="col-lg-12 text-lg-right mb-2">
                        <a href="#" class="btn btn-primary"> <i class="flaticon-plus"></i>{{ l('AddaVas') }}</a>
                      </div>
                      <p-table
                        #dataTable
                        [value]="primengTableHelper.records"
                        rows="{{ primengTableHelper.defaultRecordsCountPerPage }}"
                        [paginator]="false"
                        [lazy]="true"
                        [scrollable]="true"
                        ScrollWidth="100%"
                        [responsive]="primengTableHelper.isResponsive"
                        [resizableColumns]="primengTableHelper.resizableColumns"
                      >
                        <ng-template pTemplate="header">
                          <tr>
                            <th style="width: 150px;">
                              {{ l('name') }}
                            </th>
                            <th style="width: 150px;">
                              {{ l('count') }}
                            </th>
                            <th style="width: 150px;">
                              {{ l('amount') }}
                            </th>
                            <th style="width: 150px;">
                              {{ l('Actions') }}
                            </th>
                          </tr>
                        </ng-template>
                        <ng-template pTemplate="body" let-record="$implicit">
                          <tr>
                            <td style="width: 150px;">
                              <span class="ui-column-title"> {{ l('shippingRequestId') }}</span>
                              {{ record.shippingRequestId }}
                            </td>
                            <td style="width: 150px;">
                              <span class="ui-column-title"> {{ l('shipperName') }}</span>
                              {{ record.shipperName }}
                            </td>
                            <td style="width: 150px;">
                              <span class="ui-column-title"> {{ l('truckTypeDisplayName') }}</span>
                              {{ record.truckTypeDisplayName }}
                            </td>
                            <td style="width: 150px;">
                              <span class="ui-column-title"> {{ l('goodCategoryName') }}</span>
                              {{ record.goodCategoryName }}
                            </td>
                            <td style="width: 150px;">
                              <span *ngIf="record.bidStartDate" class="label label-xl font-weight-bold label-light-success label-inline">{{
                                record.bidStartDate | momentFormat: 'L'
                              }}</span>
                            </td>
                            <td style="width: 150px;">
                              <span *ngIf="record.bidEndDate" class="label label-xl font-weight-bold label-light-danger label-inline ui-column-title">
                                {{ l('endBidDate') }}</span
                              >
                              {{ record.bidEndDate }}
                            </td>
                            <td style="width: 150px;">
                              <span
                                *ngIf="record.shippingRequestBidStatusName"
                                class="label label-xl label-inline font-weight-bold"
                                [class.label-light-danger]="record.shippingRequestBidStatusName == 'Ongoing'"
                                [class.label-light-dark]="record.shippingRequestBidStatusName == 'Canceled'"
                                [class.label-light-warning]="record.shippingRequestBidStatusName == 'Closed'"
                                >{{ record.shippingRequestBidStatusName }}</span
                              >
                            </td>

                            <td style="width: 150px;">
                              <span class="ui-column-title"> {{ l('lastBidPrice') }}</span>
                              {{ record.myBidPrice }}
                            </td>
                            <td style="width: 150px;">
                              <button
                                class="btn btn-primary font-weight-bolder"
                                [disabled]="record.shippingRequestBidStatusName == 'Canceled' || record.shippingRequestBidStatusName == 'Closed'"
                              >
                                {{ l('Details') }}
                              </button>
                            </td>
                          </tr>
                        </ng-template>
                      </p-table>
                      <div class="primeng-no-data mb-2" *ngIf="primengTableHelper.totalRecordsCount == 0">
                        {{ l('NoData') }}
                        <!--                        <br /><a href="#" class="btn btn-success btn-sm mr-3"> <i class="flaticon-plus"></i>Add a VAS</a>-->
                      </div>
                    </div>
                    <!--end: Vas-Datatable-->
                  </div>
                </div>
              </div>
              <!--  end of Vas::Details-->
            </div>
          </div>
          <!--  end of card::body-->
        </form>
        <!--  start of card::form-->

        <div class="card-footer">
          <div class="col-lg-12">
            <button (click)="save()" [busyText]="l('SavingWithThreeDot')" [buttonBusy]="saving" class="btn btn-primary float-right">
              <i class="flaticon2-tag"></i>
              <span>{{ l('CreateShippingRequest') }}</span>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div
    class="modal fade"
    bsModal
    #staticModal="bs-modal"
    [config]="{ backdrop: 'static' }"
    tabindex="-1"
    role="dialog"
    aria-labelledby="dialog-static-name"
  >
    <div class="modal-dialog modal-xl">
      <div class="modal-content">
        <form *ngIf="active" #routStepForm="ngForm" novalidate (ngSubmit)="addRouteStep()" autocomplete="off">
          <div class="modal-header">
            <h4 class="modal-title">
              <!--                <span *ngIf="routStep.id">{{l("EditRoutStep")}}</span>-->
              <!--                <span *ngIf="!routStep.id">{{l("CreateNewRoutStep")}}</span>-->
              {{ l('CreateNewRoutStep') }}
            </h4>
            <button type="button" class="close" (click)="staticModal.hide()" aria-label="Close" [disabled]="saving">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <div class="row">
              <!--            <div class="form-group col-md-6 m-form__group">-->
              <!--              <label for="destinationFacilityName">{{ l('destinationFacilityName') }}</label>-->
              <!--              <div class="row">-->
              <!--                <div class="col-md-8">-->
              <!--                  <select name="routStep.destinationFacilityId" [(ngModel)]="routStep.destinationFacilityId" class="form-control">-->
              <!--                    <option value="">{{ l('SelectAFacility') }}</option>-->
              <!--                    <option *ngFor="let item of allFacilities" value="{{ item.id }}">{{ item.displayName }}</option>-->
              <!--                  </select>-->
              <!--                </div>-->
              <!--                <div class="col-md-4">-->
              <!--                  <button-->
              <!--                    type="button"-->
              <!--                    class="btn btn-save blue"-->
              <!--                    [disabled]="saving"-->
              <!--                    [buttonBusy]="saving"-->
              <!--                    (click)="openCreateFacilityModal()"-->
              <!--                    [busyText]="l('SavingWithThreeDot')"-->
              <!--                  >-->
              <!--                    <i class="fa fa-plus"></i> <span>{{ l('createFacility') }}</span>-->
              <!--                  </button>-->
              <!--                </div>-->
              <!--              </div>-->
              <!--            </div>-->

              <div class="form-group col-md-12">
                <!--              <agm-map [latitude]="Number(routStep.latitude)" [longitude]="Number(routStep.longitude)" [zoom]="zoom" (mapClick)="mapClicked($event)">-->
                <!--                <agm-marker [latitude]="Number(routStep.latitude)" [longitude]="Number(routStep.longitude)" [markerDraggable]="true"></agm-marker>-->
                <!--              </agm-map>-->
              </div>

              <div class="form-group col-md-6 m-form__group">
                <label for="TrucksTypeDisplayName">{{ l('TrucksType') }}</label>
                {{ routStep.trucksTypeId }}
                <select [(ngModel)]="routStep.trucksTypeId" class="form-control" name="shippingRequest.trucksTypeId">
                  <option value="">{{ l('SelectATrucksType') }}</option>
                  <option *ngFor="let item of allTrucksTypes" value="{{ item.id }}">{{ item.displayName }}</option>
                </select>
              </div>

              <div class="form-group col-md-6 m-form__group">
                <label for="TrailerTypeDisplayName">{{ l('TrailerType') }}</label>
                <select [(ngModel)]="routStep.trailerTypeId" class="form-control" name="shippingRequest.trailerTypeId">
                  <option value="">{{ l('SelectATrailerType') }}</option>
                  <option *ngFor="let item of allTrailerTypes" value="{{ item.id }}">{{ item.displayName }}</option>
                </select>
              </div>

              <!--            <div class="form-group col-md-6 m-form__group">-->
              <!--              <label for="CityDisplayName">{{ l('City') }}</label>-->
              <!--              <select name="routStep.originCityId" [(ngModel)]="routStep.originCityId" class="form-control">-->
              <!--                <option value="">{{ l('SelectACity') }}</option>-->
              <!--                <option *ngFor="let item of allCitys" value="{{ item.id }}">{{ item.displayName }}</option>-->
              <!--              </select>-->
              <!--            </div>-->

              <!--            <div class="form-group col-md-6 m-form__group">-->
              <!--              <label for="CityDisplayName2">{{ l('City') }}</label>-->
              <!--              <select name="routStep.destinationCityId" [(ngModel)]="routStep.destinationCityId" class="form-control">-->
              <!--                <option value="">{{ l('SelectACity') }}</option>-->
              <!--                <option *ngFor="let item of allCitys" value="{{ item.id }}">{{ item.displayName }}</option>-->
              <!--              </select>-->
              <!--            </div>-->

              <div class="form-group col-md-6">
                <label for="RoutStep_DisplayName">{{ l('DisplayName') }}</label>
                <input
                  type="text"
                  id="RoutStep_DisplayName"
                  class="form-control"
                  [(ngModel)]="routStep.displayName"
                  name="DisplayName"
                  minlength="0"
                  maxlength="256"
                />
              </div>

              <div class="form-group col-md-6">
                <label for="RoutStep_Order">{{ l('Order') }}</label>
                <input type="number" id="RoutStep_Order" class="form-control" [(ngModel)]="routStep.order" name="Order" min="1" max="50" />
              </div>

              <!--            <div class="form-group col-md-6 m-form__group">-->
              <!--              <label for="GoodCategoryDisplayName">{{ l('GoodCategory') }}</label>-->
              <!--              <select-->
              <!--                [(ngModel)]="routStep.createOrEditGoodsDetailDto.goodCategoryId"-->
              <!--                class="form-control"-->
              <!--                name="createOrEditGoodsDetailDto.goodCategoryId"-->
              <!--              >-->
              <!--                <option value="">{{ l('SelectAGoodCategory') }}</option>-->
              <!--                <option *ngFor="let item of allGoodCategorys" value="{{ item.id }}">{{ item.displayName }}</option>-->
              <!--              </select>-->
              <!--            </div>-->

              <!--            <div class="form-group col-md-6">-->
              <!--              <label for="GoodsDetail_Name">{{ l('Name') }} *</label>-->
              <!--              <input-->
              <!--                [(ngModel)]="routStep.createOrEditGoodsDetailDto.name"-->
              <!--                class="form-control"-->
              <!--                id="GoodsDetail_Name"-->
              <!--                maxlength="256"-->
              <!--                minlength="0"-->
              <!--                name="createOrEditGoodsDetailDto.Name"-->
              <!--                required-->
              <!--                type="text"-->
              <!--              />-->
              <!--            </div>-->

              <!--            <div class="form-group col-md-6">-->
              <!--              <label for="GoodsDetail_Description">{{ l('Description') }}</label>-->
              <!--              <input-->
              <!--                [(ngModel)]="routStep.createOrEditGoodsDetailDto.description"-->
              <!--                class="form-control"-->
              <!--                id="GoodsDetail_Description"-->
              <!--                maxlength="256"-->
              <!--                minlength="0"-->
              <!--                name="createOrEditGoodsDetailDto.Description"-->
              <!--                type="text"-->
              <!--              />-->
              <!--            </div>-->

              <!--            <div class="form-group col-md-6">-->
              <!--              <label for="GoodsDetail_Quantity">{{ l('Quantity') }}</label>-->
              <!--              <input-->
              <!--                [(ngModel)]="routStep.createOrEditGoodsDetailDto.quantity"-->
              <!--                class="form-control"-->
              <!--                id="GoodsDetail_Quantity"-->
              <!--                maxlength="128"-->
              <!--                minlength="0"-->
              <!--                name="createOrEditGoodsDetailDto.Quantity"-->
              <!--                type="text"-->
              <!--              />-->
              <!--            </div>-->

              <!--            <div class="form-group col-md-6">-->
              <!--              <label for="GoodsDetail_Weight">{{ l('Weight') }}</label>-->
              <!--              <input-->
              <!--                [(ngModel)]="routStep.createOrEditGoodsDetailDto.weight"-->
              <!--                class="form-control"-->
              <!--                id="GoodsDetail_Weight"-->
              <!--                maxlength="64"-->
              <!--                minlength="0"-->
              <!--                name="createOrEditGoodsDetailDto.Weight"-->
              <!--                type="text"-->
              <!--              />-->
              <!--            </div>-->

              <!--            <div class="form-group col-md-6">-->
              <!--              <label for="GoodsDetail_Dimentions">{{ l('Dimentions') }}</label>-->
              <!--              <input-->
              <!--                [(ngModel)]="routStep.createOrEditGoodsDetailDto.dimentions"-->
              <!--                class="form-control"-->
              <!--                id="GoodsDetail_Dimentions"-->
              <!--                maxlength="128"-->
              <!--                minlength="0"-->
              <!--                name="createOrEditGoodsDetailDto.Dimentions"-->
              <!--                type="text"-->
              <!--              />-->
              <!--            </div>-->

              <!--            <div class="form-group col-md-6">-->
              <!--              <label for="GoodsDetail_DangerousGoodsCode">{{ l('DangerousGoodsCode') }}</label>-->
              <!--              <input-->
              <!--                [(ngModel)]="routStep.createOrEditGoodsDetailDto.dangerousGoodsCode"-->
              <!--                class="form-control"-->
              <!--                id="GoodsDetail_DangerousGoodsCode"-->
              <!--                maxlength="64"-->
              <!--                minlength="0"-->
              <!--                name="createOrEditGoodsDetailDto.DangerousGoodsCode"-->
              <!--                type="text"-->
              <!--              />-->
              <!--            </div>-->
              <!--            <div class="m-checkbox-list col-md-6">-->
              <!--              <label class="kt-checkbox kt-" for="GoodsDetail_IsDangerousGood">-->
              <!--                <input-->
              <!--                  [(ngModel)]="routStep.createOrEditGoodsDetailDto.isDangerousGood"-->
              <!--                  id="GoodsDetail_IsDangerousGood"-->
              <!--                  name="createOrEditGoodsDetailDto.IsDangerousGood"-->
              <!--                  type="checkbox"-->
              <!--                />-->
              <!--                {{ l('IsDangerousGood') }}-->
              <!--                <span></span>-->
              <!--              </label>-->
              <!--            </div>-->
            </div>
          </div>
          <div class="modal-footer">
            <button [disabled]="saving" type="button" class="btn btn-default" (click)="staticModal.hide()">{{ l('Cancel') }}</button>
            <button
              type="submit"
              class="btn btn-primary blue"
              [disabled]="!routStepForm.form.valid"
              [buttonBusy]="saving"
              [busyText]="l('SavingWithThreeDot')"
            >
              <i class="fa fa-save"></i> <span>{{ l('Save') }}</span>
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
  <!--<createOrEditFacilityModal #createOrEditFacilityModal (modalSave)="refreshFacilities()"></createOrEditFacilityModal>-->
  <div
    class="modal fade"
    bsModal
    #createFacilityModal="bs-modal"
    [config]="{ backdrop: 'static' }"
    tabindex="-1"
    role="dialog"
    aria-labelledby="dialog-static-name"
  >
    <div class="modal-dialog modal-xl">
      <div class="modal-content">
        <form *ngIf="active" #createFacilityForm="ngForm" novalidate (ngSubmit)="createFacility()" autocomplete="off">
          <div class="modal-header">
            <h4 class="modal-title">
              <!--                <span *ngIf="routStep.id">{{l("EditRoutStep")}}</span>-->
              <!--                <span *ngIf="!routStep.id">{{l("CreateNewRoutStep")}}</span>-->
              {{ l('CreateFacilityModal') }}
            </h4>
            <button type="button" class="close" (click)="createFacilityModal.hide()" aria-label="Close" [disabled]="saving">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <div class="row">
              <div class="form-group col-md-6">
                <label>{{ l('search') }}</label>
                <input
                  type="text"
                  class="form-control"
                  (keydown.enter)="$event.preventDefault()"
                  placeholder="Search Nearest Location"
                  autocorrect="off"
                  autocapitalize="off"
                  spellcheck="off"
                  type="text"
                  #search
                />
              </div>
              <div class="form-group col-md-6">
                <label for="Facility_Name">{{ l('Name') }} *</label>
                <input
                  type="text"
                  id="Facility_Name"
                  class="form-control"
                  [(ngModel)]="facility.name"
                  name="Name"
                  minlength="0"
                  maxlength="256"
                  required
                />
              </div>

              <div class="form-group col-md-12">
                <agm-map [latitude]="facility.latitude" [longitude]="facility.longitude" [zoom]="zoom" (mapClick)="mapClicked($event)">
                  <agm-marker [latitude]="facility.latitude" [longitude]="facility.longitude" [markerDraggable]="true"></agm-marker>
                </agm-map>
              </div>
              <!--                        <div class="form-group m-form__group">-->
              <!--                            <label for="CountyDisplayName">{{ l('County') }}</label>-->
              <!--                            <select name="facility.countyId" [(ngModel)]="facility.countyId" class="form-control" required>-->
              <!--                                <option value="">{{ l('SelectACounty') }}</option>-->
              <!--                                <option *ngFor="let item of allCountries" value="{{ item.id }}">{{ item.displayName }}</option>-->
              <!--                            </select>-->
              <!--                        </div>-->

              <div class="form-group m-form__group">
                <label for="CityDisplayName">{{ l('City') }}</label>
                <select name="facility.cityId" [(ngModel)]="facility.cityId" class="form-control" required>
                  <option value="">{{ l('SelectACity') }}</option>
                  <option *ngFor="let item of allCitys" value="{{ item.id }}">{{ item.displayName }}</option>
                </select>
              </div>

              <div class="form-group col-md-6">
                <label for="Facility_Adress">{{ l('Adress') }} *</label>
                <input
                  type="text"
                  id="Facility_Adress"
                  class="form-control"
                  [(ngModel)]="facility.adress"
                  name="Adress"
                  minlength="0"
                  maxlength="256"
                  required
                />
              </div>

              <!--                        <div class="form-group col-md-6">-->
              <!--                            <label for="Facility_Longitude">{{ l('Longitude') }}</label>-->
              <!--                            <input type="number" id="Facility_Longitude" class="form-control" [(ngModel)]="facility.longitude" name="Longitude" />-->
              <!--                        </div>-->

              <!--                        <div class="form-group col-md-6">-->
              <!--                            <label for="Facility_Latitude">{{ l('Latitude') }}</label>-->
              <!--                            <input type="number" id="Facility_Latitude" class="form-control" [(ngModel)]="facility.latitude" name="Latitude" />-->
              <!--                        </div>-->
            </div>
          </div>
          <div class="modal-footer">
            <button [disabled]="saving" type="button" class="btn btn-default" (click)="createFacilityModal.hide()">{{ l('Cancel') }}</button>
            <button
              type="submit"
              class="btn btn-primary blue"
              [disabled]="!createFacilityForm.form.valid"
              [buttonBusy]="saving"
              [busyText]="l('SavingWithThreeDot')"
            >
              <i class="fa fa-save"></i> <span>{{ l('Save') }}</span>
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
