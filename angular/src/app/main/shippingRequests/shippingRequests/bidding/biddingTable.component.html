<div class="card card-custom gutter-b">
  <!--  start of card::form-->
  <div class="card-header">
    <div class="card-title">
      <h3 class="card-label">
        {{ l('bidsList') }}
      </h3>
    </div>

    <div class="card-toolbar">
      <!--begin::Button-->
      <button class="btn btn-danger" (click)="stopBiddingOnShippingRequest(shippingRequestId)">
        <i class="fa flaticon-close"></i> {{ l('StopBiddingOnthisRequest') }}
      </button>
      <!--end::Button-->
    </div>
  </div>
  <!--  start of card::body-->
  <div class="card-body">
    <div class="row align-items-center">
      <!--<Primeng-Datatable-Start>-->
      <div [busyIf]="primengTableHelper.isLoading" class="primeng-datatable-container col-12">
        <p-table
          #dataTableChild
          (onLazyLoad)="getShippingRequestsBids($event)"
          ScrollWidth="100%"
          [lazy]="true"
          [paginator]="false"
          [resizableColumns]="primengTableHelper.resizableColumns"
          [responsive]="primengTableHelper.isResponsive"
          [scrollable]="true"
          [value]="primengTableHelper.records"
          rows="{{ primengTableHelper.defaultRecordsCountPerPage }}"
        >
          <ng-template pTemplate="header">
            <tr>
              <th style="width: 130px;">
                {{ l('id') }}
              </th>
              <th pSortableColumn="trucksTypeFk.displayName" style="width: 150px;">
                {{ l('carrierName') }}
                <p-sortIcon field="trucksTypeDisplayName"></p-sortIcon>
              </th>
              <th pSortableColumn="trucksTypeFk.displayName" style="width: 150px;">
                {{ l('price') }}
                <p-sortIcon field="trucksTypeDisplayName"></p-sortIcon>
              </th>
              <th pSortableColumn="trailerTypeFk.displayName" style="width: 150px;">
                {{ l('Accepted') }}
                <p-sortIcon field="trailerTypeDisplayName"></p-sortIcon>
              </th>
              <th style="width: 130px;">
                {{ l('Actions') }}
              </th>
            </tr>
          </ng-template>
          <ng-template let-record="$implicit" pTemplate="body">
            <tr [ngClass]="record.isAccepted ? 'table-success' : ''">
              <td style="width: 150px;">
                <span class="ui-column-title"> {{ l('id') }}</span>
                {{ record.id }}
              </td>
              <td style="width: 150px;">
                <span class="ui-column-title"> {{ l('carrierName') }}</span>
                {{ record.carrierName }}
              </td>
              <td style="width: 150px;">
                <span class="ui-column-title"> {{ l('price') }}</span>
                {{ record.price }}
              </td>
              <td style="width: 150px;">
                <span class="ui-column-title"> {{ l('isAccepted') }}</span>
                {{ record.isAccepted }}
              </td>
              <td style="width: 150px;">
                <span class="ui-column-title"> {{ l('AcceptBid') }}</span>
                <button
                  *ngIf="feature.isEnabled('App.Shipper')"
                  type="button"
                  class="btn btn-outline-success mr-2"
                  (click)="AcceptBidMeth(record.id)"
                >
                  {{ l('AcceptBid') }}
                </button>
                <button
                  *ngIf="feature.isEnabled('App.TachyonDealer')"
                  type="button"
                  class="btn btn-outline-success mr-2"
                  (click)="tachyonDealerResponceModel.show(undefined, undefined, record.shippingRequestId, record.id)"
                >
                  {{ l('AcceptBid') }}
                </button>
              </td>
            </tr>
          </ng-template>
        </p-table>
        <div *ngIf="primengTableHelper.totalRecordsCount == 0" class="primeng-no-data">
          {{ l('NoData') }}
        </div>
        <div class="primeng-paging-container">
          <p-paginator
            #paginatorChild
            (onPageChange)="getShippingRequestsBids($event)"
            [rowsPerPageOptions]="primengTableHelper.predefinedRecordsCountPerPage"
            [rows]="primengTableHelper.defaultRecordsCountPerPage"
            [totalRecords]="primengTableHelper.totalRecordsCount"
          >
          </p-paginator>
          <span class="total-records-count">
            {{ l('TotalRecordsCount', primengTableHelper.totalRecordsCount) }}
          </span>
        </div>
      </div>
      <!--<Primeng-Datatable-End>-->
    </div>
  </div>
  <!--  end of card::body-->
  <!--  start of card::form-->
</div>
<tachyonDealerResponceModel #tachyonDealerResponceModel (modalsave)="reloadPage()"></tachyonDealerResponceModel>
