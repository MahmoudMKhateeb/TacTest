<div
  bsModal
  #ViewImportedTripsModal="bs-modal"
  class="modal fade"
  role="dialog"
  aria-labelledby="createOrEditModal"
  aria-hidden="true"
  [config]="{ backdrop: 'static' }"
>
  <div class="modal-dialog modal-dialog-centered modal-xl lgWidth">
    <div class="modal-content">
      <div class="modal-header">
        <p class="modal-title">
          <span>{{ l('ImportedTrips') }}</span>
        </p>
        <div class="card-toolbar"></div>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-lg-6"></div>
          <div class="col-lg-12 mt-4">
            <div class="row align-items-center">
              <!--<Primeng-Datatable-Start>-->
              <div [busyIf]="primengTableHelper.isLoading" class="table primeng-datatable-container col-12">
                <p-table
                  ScrollWidth="100%"
                  [paginator]="false"
                  [resizableColumns]="primengTableHelper.resizableColumns"
                  [responsive]="primengTableHelper.isResponsive"
                  [scrollable]="true"
                  [value]="ImportedTripsList"
                  rows="{{ primengTableHelper.defaultRecordsCountPerPage }}"
                >
                  <ng-template pTemplate="header">
                    <tr>
                      <th>{{ l('TripReferenceID') }}</th>
                      <th>
                        {{ l('TripStartDate') }}
                      </th>
                      <th>
                        {{ l('TripEndDate') }}
                      </th>
                      <th>
                        {{ l('HasAttachment') }}
                      </th>
                      <th>{{ l('NeedsDeliveryNote') }}</th>
                      <th>
                        {{ l('Origin') }}
                      </th>
                      <th>
                        {{ l('Destination') }}
                      </th>
                      <th *ngIf="isDedicatedRequest">
                        {{ l('RouteType') }}
                      </th>
                      <th *ngIf="isDedicatedRequest">
                        {{ l('NumberOfDrops') }}
                      </th>

                      <th *ngIf="isSingleDdrop || isDedicatedRequest">
                        {{ l('Sender') }}
                      </th>
                      <th *ngIf="isSingleDdrop || isDedicatedRequest">
                        {{ l('Receiver') }}
                      </th>
                      <th *ngIf="isDedicatedRequest">
                        {{ l('Driver') }}
                      </th>
                      <th *ngIf="isDedicatedRequest">
                        {{ l('Truck') }}
                      </th>

                      <th>
                        {{ l('totalValue') }}
                      </th>
                      <!-- <th>
                        {{ l('Note') }}
                      </th> -->
                    </tr>
                  </ng-template>
                  <ng-template let-record="$implicit" pTemplate="body" let-i="rowIndex">
                    <tr [ngClass]="record.exception ? 'alert customDangerAlert' : 'alert customSuccessAlert'">
                      <td>
                        <span class="ui-column-title"> {{ l('bulkUploadReference') }}</span>
                        {{ record.bulkUploadRef }}
                      </td>
                      <td>
                        <span class="ui-column-title"> {{ l('startTripDate') }}</span>
                        {{ record.startTripDate | momentFormat: 'YYYY-MM-DD' }}
                      </td>
                      <td>
                        <span class="ui-column-title"> {{ l('endTripDate') }}</span>
                        {{ record.endTripDate | momentFormat: 'YYYY-MM-DD' }}
                      </td>
                      <td>
                        <span class="ui-column-title"> {{ l('hasAttachment') }}</span>
                        {{ record.hasAttachment ? l('Yes') : l('No') }}
                      </td>
                      <td>
                        <span class="ui-column-title"> {{ l('needsDeliveryNote') }}</span>
                        {{ record.needsDeliveryNote ? l('Yes') : l('No') }}
                      </td>
                      <td>
                        <span class="ui-column-title"> {{ l('originFacility') }}</span>
                        {{ record.originalFacility }}
                      </td>
                      <td>
                        <span class="ui-column-title"> {{ l('destinationFacility') }}</span>
                        {{ record.destinationFacility }}
                      </td>
                      <td *ngIf="isDedicatedRequest">
                        <span class="ui-column-title"> {{ l('RouteType') }}</span>
                        {{ record.routeTypeTitle }}
                      </td>
                      <td *ngIf="isDedicatedRequest">
                        <span class="ui-column-title"> {{ l('NumberOfDrops') }}</span>
                        {{ record.numberOfDrops }}
                      </td>
                      <td *ngIf="isSingleDdrop">
                        <span class="ui-column-title"> {{ l('sender') }}</span>
                        {{ record.sender }}
                      </td>
                      <td *ngIf="isSingleDdrop">
                        <span class="ui-column-title"> {{ l('receiver') }}</span>
                        {{ record.receiver }}
                      </td>
                      <td *ngIf="isDedicatedRequest">
                        <span class="ui-column-title"> {{ l('Driver') }}</span>
                        {{ record.driver }}
                      </td>
                      <td *ngIf="isDedicatedRequest">
                        <span class="ui-column-title"> {{ l('Truck') }}</span>
                        {{ record.truck }}
                      </td>
                      <td>
                        <span class="ui-column-title"> {{ l('totalValue') }}</span>
                        {{ record.totalValue }}
                      </td>
                      <!-- <td>
                        <span class="ui-column-title"> {{ l('note') }}</span>
                        {{ record.note }}
                      </td> -->
                    </tr>
                    <tr>
                      <td [attr.colspan]="isSingleDdrop ? '11' : '9'" *ngIf="record.exception">
                        <span class="required-fileds font-weight-bolder"> {{ l('Exception') }} : </span>
                        {{ record.exception }}
                      </td>
                    </tr>
                  </ng-template>
                </p-table>
              </div>
              <!--<Primeng-Datatable-End>-->
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <!--begin::Buttons-->

        <button type="button" class="btn btn-primary font-weight-bolder btn-sm py-3 px-6 text-uppercase" (click)="close()">
          {{ l('Close') }}
        </button>
        <button
          type="submit"
          (click)="save()"
          class="btn btn-save font-weight-bold"
          [disabled]="ImportedTripsList ? checkImportedList(ImportedTripsList) : false"
          [buttonBusy]="saving"
          [busyText]="l('SavingWithThreeDot')"
        >
          <i class="fa fa-save"></i> <span>{{ 'Save' | localize }}</span>
        </button>
        <!--end::Buttons-->
      </div>
    </div>
  </div>
</div>
