<div class="card card-custom card-stretch w-100 h-100 gutter-b" [busyIf]="loading">
  <div class="card-header w-100" *ngIf="!!shippingRequestId">
    <div class="card-title text-center">
      <h3 class="card-label">{{ l('TruckPerformance') }}</h3>
    </div>
    <!--        <div class="actions" *ngIf="isTachyonDealer && !shippingRequestId">-->
    <!--            <button class="btn btn-danger" (click)="showModifyKpi = true">-->
    <!--                {{ l('updateKPIForTruck') }}-->
    <!--            </button>-->
    <!--        </div>-->
  </div>
  <div class="card-body">
    <div class="row" *ngIf="!!shippingRequestId">
      <div class="col-4">
        <table class="table">
          <tr>
            <td>{{ l('KPI') }}</td>
            <td>{{ l('numberOfTrips') }}</td>
          </tr>

          <tr *ngFor="let truck of trucks">
            <td>{{ truck.kpi }}</td>
            <td>{{ truck.numberOfTrips }}</td>
          </tr>
        </table>
      </div>
      <div class="col-8" id="acceptedVsRejectedChart">
        <apx-chart
          *ngIf="chartOptions && chartOptions.series"
          [series]="chartOptions.series"
          [chart]="chartOptions.chart"
          [xaxis]="chartOptions.xaxis"
          [stroke]="chartOptions.stroke"
          [tooltip]="chartOptions.tooltip"
          [dataLabels]="chartOptions.dataLabels"
        ></apx-chart>
      </div>
    </div>
    <div class="row" *ngIf="isTachyonDealer && !!selectedTruckId && !shippingRequestId">
      <div class="col-12">
        <label class="form-label" for="truckKPI">{{ l('truckKPI') }} </label>
        <div class="input-group">
          <input class="form-control" type="number" name="truckKPI" id="truckKPI" [(ngModel)]="truckKPI" />
          <div class="input-group-append">
            <button class="btn btn-danger" (click)="updateKPI()">
              {{ l('save') }}
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
