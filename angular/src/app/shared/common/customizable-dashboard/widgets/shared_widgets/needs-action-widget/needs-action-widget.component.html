<div class="row" style="height: 100%">
  <div class="w-100 h-100 col-12">
    <div class="card card-custom card-stretch">
      <div class="card-body p-4 d-flex flex-column">
        <div [class]="!isTachyonDealerOrHost ? 'card-title mb-4' : 'card-title mb-4 ribbon ribbon-left isHostOrTMS'">
          <div class="card-label">{{ 'NeedsAction' | localize }}</div>
          <div
            *ngIf="isTachyonDealerOrHost"
            class="ribbon-target bg-primary"
            style="top: 45%; font-size: 20px"
            [style.left]="!isRtl ? '0% !important' : 'auto !important'"
            [style.right]="!isRtl ? 'auto !important' : '0% !important'"
          >
            {{ today | date: 'MMMM' }}
          </div>
        </div>
        <div appMakeScrollable class="overflow-auto" [cssClassSelector]="'overflow-auto'">
          <div
            class="card card-custom dashboard-plain-card mb-2 clickable-item overflow-hidden"
            *ngFor="let trip of needsActionTrips"
            (click)="goToTrackingPage(trip)"
          >
            <div class="card-body p-4 d-flex justify-content-between align-items-end">
              <app-from-to [from]="trip.origin" [to]="trip.destinations" class="w-45"></app-from-to>
              <div class="d-flex flex-column w-55">
                <ng-container *ngIf="trip.needsPod && !trip.needsReceiverCode">
                  <div class="pb-3">
                    <span class="label label-default label-rounded text-red p-2">{{ 'DeliveryConfirmation' | localize }}</span>
                  </div>
                </ng-container>
                <ng-container *ngIf="!trip.needsPod && trip.needsReceiverCode">
                  <div class="pb-3">
                    <span class="label label-default label-rounded text-red p-2">{{ 'ReceiverCode' | localize }}</span>
                  </div>
                </ng-container>
                <ng-container *ngIf="trip.needsPod && trip.needsReceiverCode">
                  <div class="pb-3">
                    <span class="label label-default label-rounded text-red p-2 needs-action-label"
                      >{{ 'DeliveryConfirmation' | localize }} / {{ 'ReceiverCode' | localize }}</span
                    >
                  </div>
                </ng-container>
                <div class="pt-3 title">{{ trip.waybillNumber }}</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
